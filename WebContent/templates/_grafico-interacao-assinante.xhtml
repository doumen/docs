<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:h5="http://java.sun.com/jsf/composite/html5">

<ui:composition template="/templates/_panel-titulo.xhtml">
	<ui:param name="tituloPainel" value="Gráfico Interação X Assinante" />
	<ui:param name="help" value="Gráfico Interação X Assinante" />
	<ui:define name="conteudoPainel">
		<div id="headerGrafico">
			<div id="block_container">
				<div id="botaoInverte">
					<h:commandLink id="inverte">
						<p:graphicImage name="/images/inverte.png"
							styleClass="botao_inverte" />
						<f:ajax event="click" listener="#{bean.inverteOrdem}"
							render="@form" />
					</h:commandLink>
				</div>
				<div id="icones-zoom">

					<h:commandLink id="zoomIn" styleClass="botao_zoomIn" value=""
						actionListener="#{bean.aumentaZoom}" update="tamanhoZoom">
						<p:graphicImage name="/images/zoommais.png"
							styleClass="botao_zoomIn" />
					</h:commandLink>

					<p:selectOneMenu id="tamanhoZoom" rendered="true"
						value="#{bean.zoom}" styleClass="tamanhoZoom">
						<f:selectItem itemLabel=" " itemValue="" />
						<f:selectItems value="#{bean.selectedZooms}" />
						<f:ajax event="change" listener="#{bean.zoomSelectOneMenu}"
							render="@form"></f:ajax>
					</p:selectOneMenu>

					<h:commandLink id="zoomOut" styleClass="botao_zoomOut"
						actionListener="#{bean.diminuiZoom}" update="tamanhoZoom">
						<p:graphicImage name="/images/zoommenos.png"
							styleClass="botao_zoomOut" />
					</h:commandLink>
				</div>
				<div id="icones-exportar">
					<h:commandButton id="cbImprimir" styleClass="botoes"
						actionListener="#{bean.printPdf}"
						style="background-image: url('resources/images/imprimir.gif') !important;">
					</h:commandButton>

					<h:commandButton id="cbExcel" styleClass="botoes" 
							action="#{bean.downloadExcel()}"
							style="background-image: url('resources/images/excel.gif') !important;">
						</h:commandButton>
					
					<h:commandButton id="cbPdf" styleClass="botoes"
							actionListener="#{bean.exportPdf}"
							style="background-image: url('resources/images/pdf.gif') !important;">
						</h:commandButton>
				</div>
			</div>
		</div>
		<h5:canvas id="chart" library="html5" script="bar.js" width="300px"
			maiorAssinante="#{bean.maiorBarra}" totalBarras="#{bean.totalBarras}"
			cores="#{coresGrafico}" height="300px" barras="#{bean.barras}"
			ordem="#{bean.ordem}">
         #{msgs.canvasUnsupported}
      </h5:canvas>
		<div id="footerGrafico">
			<div id="centerPaginator">
				<h:commandLink id="ultimaPagina"
					styleClass="ui-panel-titlebar-icon ui-corner-all ui-state-default"
					actionListener="#{bean.irParaUltimaPagina}" update="paginaAtual">
					<h:outputText styleClass="ui-icon ui-icon-seek-end" />
				</h:commandLink>
				<h:commandLink id="proximaPagina"
					styleClass="ui-panel-titlebar-icon ui-corner-all ui-state-default"
					actionListener="#{bean.irParaProximaPagina}" update="paginaAtual">
					<h:outputText styleClass="ui-icon ui-icon-seek-next" />
				</h:commandLink>

				<h:commandLink id="paginaAtual"
					styleClass="ui-panel-titlebar-icon ui-corner-all ui-state-default">
					<h:outputText value="#{bean.paginaAtual} de #{bean.totPag}" />
				</h:commandLink>

				<h:commandLink id="paginaAnterior"
					styleClass="ui-panel-titlebar-icon ui-corner-all ui-state-default text-align: center;"
					actionListener="#{bean.irParaPaginaAnterior}" update="paginaAtual">
					<h:outputText styleClass="ui-icon ui-icon-seek-prev" />
				</h:commandLink>
				<h:commandLink id="primeiraPagina"
					styleClass="ui-panel-titlebar-icon ui-corner-all ui-state-default"
					actionListener="#{bean.irParaPrimeiraPagina}" update="paginaAtual">
					<h:outputText styleClass="ui-icon ui-icon-seek-first" />
				</h:commandLink>
			</div>
		</div>
	</ui:define>
</ui:composition>
</html>
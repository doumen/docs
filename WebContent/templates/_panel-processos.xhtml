<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="/templates/_headerFooter.xhtml">
	<ui:define name="corpo">
		<h:form id="formPainel">
			<h:outputStylesheet value="panelTitulo"/>			
			<p:panel header="#{tituloPainel}" styleClass = "panelTitulo">
				<f:facet name="actions">
					<h:commandLink styleClass="ui-panel-titlebar-icon ui-corner-all ui-state-default">
						<h:outputText styleClass="ui-icon ui-icon-help" />
					</h:commandLink>
					<p:commandLink styleClass="ui-panel-titlebar-icon ui-corner-all ui-state-default" 
					actionListener="#{bean.loadConfig}" oncomplete="PF('dlgConfig').show()">
						<h:outputText styleClass="ui-icon ui-icon-gear"/>
					</p:commandLink>
				</f:facet>
			   <ui:insert name="conteudoPainel"/>
			</p:panel>
			<p:dialog widgetVar="dlgConfig" onHide="doSomething()">
				<ui:insert name="dialogConfig"></ui:insert>
			</p:dialog>
		</h:form>
						<script type="text/javascript">
				function doSomething() {
					alert(document.getElementById('formPainel'));
					var form = document.getElementById('formPainel');
					form.submit();
				}
				</script>	
		
	</ui:define>
</ui:composition>
</html>

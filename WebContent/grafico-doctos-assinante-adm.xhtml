<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:golive="http://java.sun.com/jsf/composite/components"
	template="/templates/_panel-titulo.xhtml">

	<ui:param name="tituloPainel" value="Gráfico - manipulação Doctos X Assinantes" />
	<ui:param name="help" value="Gráfico - manipulação Doctos X Assinantes" />
	<ui:param name="modulo" value="administrativo" />
	<ui:param name="bean" value="#{graficoDoctosAssinanteAdmMB}" />

	<ui:define name="conteudoPainel">
	<h:outputScript library="js" name="printVoucher.js" target="head" />
			<p:dataGrid value="#{bean.graficosDoctosAssinante}" var="graficoDoctosAssinanteAdm" paginator="true" paginatorPosition="bottom"
			paginatorTemplate="{FirstPageLink} {PreviousPageLink} {CurrentPageReport} {NextPageLink} {LastPageLink}"
			currentPageReportTemplate="[{currentPage} de {totalPages} ]" rows="1" columns="1"			
			id="dataList" widgetVar="dataGrid">
			
			<f:facet name="header">
					<div id="block_container">
						<div id="icones-zoom">
							<h:commandButton id="cbZoomMais" styleClass="botoes" type="reset"
								style="background-image: url('resources/images/zoommais.png') !important;">
								<f:ajax listener="#{relatorioDataTableMB.aumentaZoom}" render="dataList"
									execute="@form" />
							</h:commandButton>
							<p:selectOneMenu id="somZoom" rendered="true"
								value="#{relatorioDataTableMB.zoom}">
								<f:selectItem itemLabel=" " itemValue="" />
								<f:selectItems value="#{relatorioDataTableMB.selectedZooms}" />
								<f:ajax render="dataList" event="change"
									listener="#{relatorioDataTableMB.zoomSelectOneMenu}"></f:ajax>
							</p:selectOneMenu>
							<h:commandButton id="cbZoomMenos" styleClass="botoes"
								style="background-image: url('resources/images/zoommenos.png') !important;">
								<f:ajax listener="#{relatorioDataTableMB.diminuiZoom}" render="dataList"
									execute="@form" />
							</h:commandButton>
						</div>
						<div id="icones-exportar">
							<h:commandButton id="cbImprimir" styleClass="botoes"
								style="background-image: url('resources/images/imprimir.gif') !important;"
								onclick="print_grafico_doctos_assinantes();">
							</h:commandButton>
							<h:commandButton id="cbExcel" styleClass="botoes"
								style="background-image: url('resources/images/excel.gif') !important;">
								<p:dataExporter type="xls" target="dataList"
									fileName="dataTable" />
							</h:commandButton>
							<h:commandButton id="cbPdf" styleClass="botoes"
								style="background-image: url('resources/images/pdf.gif') !important;" actionListener="#{bean.pdf}">
							</h:commandButton>
						</div>
					</div>
        		</f:facet>
        		
        		<div style="font-size:#{relatorioDataTableMB.font}em !important;text-align:center;" >
					<p:outputLabel value="Gráfico - Manipulação Doctos X Assinantes" style="font-size:2em;"></p:outputLabel>
					<br></br>
					<p:panel style="border:1px solid">
					<h:panelGrid columns="2" columnClasses="pg_c1, pg_c2">
						<h:column><p:outputLabel value="Assinante: " ></p:outputLabel> </h:column>
						<h:column><p:outputLabel value="#{graficoDoctosAssinanteAdm.assinante}"></p:outputLabel> </h:column>
						<h:column><p:outputLabel value="Contabilidade: " style="text-align:left;"></p:outputLabel> </h:column>
						<h:column><p:outputLabel value="#{graficoDoctosAssinanteAdm.contador}"></p:outputLabel> </h:column>
					</h:panelGrid>
					<h:panelGrid columns="2">
						<h:column><p:chart type="pie" id="pieChart" widgetVar="pieChart" model="#{graficoDoctosAssinanteAdm.pieChartModel}"	style="width:500px;height:400px" /></h:column>
						<h:column><p:chart type="line" id="lineChart" widgetVar="lineChart"
								model="#{graficoDoctosAssinanteAdm.lineChartModel}"
								style="width:500px;height:400px" /></h:column>
					</h:panelGrid>
					<h:panelGrid columns="2" columnClasses="pg_c1, pg_c2">								
						<h:column><p:outputLabel value="Plano Contratado: " ></p:outputLabel> </h:column>
						<h:column><p:outputLabel value="#{graficoDoctosAssinanteAdm.planoContratado}"></p:outputLabel> </h:column>
						<h:column><p:outputLabel value="Consumo Restante" style="text-align:left;"></p:outputLabel> </h:column>
						<h:column><p:outputLabel value="#{graficoDoctosAssinanteAdm.consumoRestante}"></p:outputLabel> </h:column>						
					</h:panelGrid>
										
					<h:inputHidden value="#{graficoDoctosAssinanteAdm.assinante}" id="assinante"/>
					<h:inputHidden value="#{graficoDoctosAssinanteAdm.contador}" id="contabilidade"/>
					<h:inputHidden value="#{graficoDoctosAssinanteAdm.planoContratado}" id="plano"/>
					<h:inputHidden value="#{graficoDoctosAssinanteAdm.consumoRestante}" id="consumo"/>
					</p:panel>
				</div>
			</p:dataGrid>
	</ui:define>
</ui:composition>
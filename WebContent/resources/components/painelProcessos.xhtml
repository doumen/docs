<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:composite="http://java.sun.com/jsf/composite"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<composite:interface>
	<composite:attribute name="subTitulo" required="true" />

</composite:interface>

<composite:implementation>

	<h:panelGrid columns="10">
		<p:outputLabel value="#{cc.attrs.subTitulo}" />
		<p:commandButton value="" id="cbDownload" ajax="false"
			disabled="#{bean.flagShow}"
			style="background-image: url('resources/images/download.png') !important;background-repeat: no-repeat;background-position: center;width: 16px;height: 16px;">
			<p:fileDownload value="#{bean.file}" />
			<p:tooltip for="cbDownload" value="Download" />
		</p:commandButton>
		<p:commandButton id="cbUpload" value=""
			onclick="PF('dlgUpload').show();return false;"
			disabled="#{bean.flagShow}"
			style="background-image: url('resources/images/upload.png') !important;background-repeat: no-repeat;background-position: center;width: 16px;height: 16px;" />
		<p:tooltip for="cbUpload" value="Upload" />
		<p:commandButton id="cbManifestar" value=""
			onclick="PF('dlgManifestar').show();return false;"
			disabled="#{bean.flagShow}"
			style="background-image: url('resources/images/manifestar.png') !important;background-repeat: no-repeat;background-position: center;width: 16px;height: 16px;" />
		<p:tooltip for="cbManifestar" value="Manifestar" />
		<p:commandButton id="cbEnviarEmail" value=""
			disabled="#{bean.flagShow}"
			style="background-image: url('resources/images/email.png') !important;background-repeat: no-repeat;background-position: center;width: 16px;height: 16px;" />
		<p:tooltip for="cbEnviarEmail" value="Enviar Email" />
		<h:commandLink id="cbImprimir" disabled="#{bean.flagShow}">
			<p:graphicImage name="/images/imprimir.gif" width="16" height="16" />
			<p:dataExporter type="pdf" fileName="consulta"
				target=":formPainel:tvConsulta:dtTodas" />
		</h:commandLink>
		<p:tooltip for="cbImprimir" value="Imprimir" />
	</h:panelGrid>
	<p:separator />
	<p:tabView id="tvConsulta">
		<p:ajax event="tabChange" listener="#{bean.onChange}"
			update="@all" />
		<p:tab
			title="#{tituloPrimeiraAba == null ? bean.tituloAba : tituloPrimeiraAba }">
			<p:dataTable selection="#{bean.selectedList}" rowKey="#{list.id}"
				value="#{bean.listTable}" var="list">
				<p:column selectionMode="multiple"
					style="width:16px;text-align:center" />

				<c:forEach items="#{bean.selected['class'].declaredFields}"
					var="field">
					<c:if
						test="#{goLiveDataTableBean.validateField(field.name, bean.args)}">
						<p:column
							headerText="#{goLiveDataTableBean.getHeaderColumn(bean.properties, field.name)}">
							<h:outputLabel
								value="#{goLiveDataTableBean.rowGenericTable(list, field.name)}" />
						</p:column>

					</c:if>
				</c:forEach>
			</p:dataTable>

		</p:tab>
		<p:tab
			title="#{empty tituloSegundaAba ?  bean.tituloSegundaAba: tituloSegundaAba}">
						teste
					</p:tab>
		<p:tab
			title="#{empty tituloTeceiraAba ? bean.tituloTerceiraAba : tituloTeceiraAba}">
						teste
					</p:tab>
	</p:tabView>




</composite:implementation>

</html>
